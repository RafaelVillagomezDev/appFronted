!function(){var e,t,n,a,r,l={272:function(e,t,n){"use strict";var a=n(294),r=(n(998),n(655)),l=n(744);t.Z=function(){const e=(0,l.$)("user");return a.createElement("div",{id:"navbar"},a.createElement("ul",{className:"navbar_ul"},a.createElement("li",{className:"navbar_li"},a.createElement(r.OL,{className:"nav-route",to:"/app"},"Home")),a.createElement("li",{className:"navbar_li"},a.createElement(r.OL,{className:"nav-route",to:"/create"},"Crear")),"admin"==e.rol?a.createElement(a.Fragment,null,a.createElement("li",{className:"navbar_li"},a.createElement(r.OL,{className:"nav-route",to:"/update"},"Actualizar"))):a.createElement(a.Fragment,null),a.createElement("li",{className:"navbar_li"},a.createElement(r.OL,{className:"nav-route",to:"/login",onClick:()=>{localStorage.clear()}},"Salir"))))}},193:function(e,t,n){"use strict";var a=n(294),r=n(745),l=n(335),o=n(655),c=n(379),i=n.n(c),s=n(795),u=n.n(s),m=n(569),d=n.n(m),f=n(565),p=n.n(f),v=n(216),E=n.n(v),h=n(589),g=n.n(h),y=n(55),b={};b.styleTagTransform=g(),b.setAttributes=p(),b.insert=d().bind(null,"head"),b.domAPI=u(),b.insertStyleElement=E(),i()(y.Z,b),y.Z&&y.Z.locals&&y.Z.locals;var N=n(388),_={};_.styleTagTransform=g(),_.setAttributes=p(),_.insert=d().bind(null,"head"),_.domAPI=u(),_.insertStyleElement=E(),i()(N.Z,_),N.Z&&N.Z.locals&&N.Z.locals;var w=n(633),O=n(854),S=n(980),C=(0,w.xC)({reducer:{login:O.ZP,survey:S.ZP}}),A=n(998),T=(n(358),n(744));n(497),(0,T.$)("token");var j=n(510);const k=(0,a.lazy)((()=>Promise.resolve().then(n.bind(n,358)))),P=(0,a.lazy)((()=>Promise.resolve().then(n.bind(n,497)))),I=(0,a.lazy)((()=>n.e(88).then(n.bind(n,88)))),L=!!(0,T.$)("token"),Z=((0,j.hh)((0,T.$)("token"),L),e=>{let{element:t,...n}=e;return L?t:a.createElement(l.Fg,{to:"/login",replace:!0,state:{from:n.location}})});let R=(0,l.i7)(a.createElement(a.Fragment,null,a.createElement(l.AW,{path:"/",element:a.createElement(k,null)}),a.createElement(l.AW,{path:"login",element:a.createElement(k,null)}),a.createElement(l.AW,{path:"/"},a.createElement(l.AW,{path:"app",element:a.createElement(Z,{element:a.createElement(a.Suspense,{fallback:a.createElement("div",null,"Loading...")},a.createElement(P,null))})}),a.createElement(l.AW,{path:"create",element:a.createElement(Z,{element:a.createElement(a.Suspense,{fallback:a.createElement("div",null,"Loading...")},a.createElement(I,null))})}))));const x=(0,o.aj)(R);r.createRoot(document.getElementById("root")).render(a.createElement(A.zt,{store:C},a.createElement(a.StrictMode,null,a.createElement(l.pG,{router:x}))))},497:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var a=n(294),r=n(998),l=n(980),o=n(744);n(510);var c=function(){const e=(0,r.I0)(),{survey:t}=(0,r.v9)((e=>e.survey)),n=(0,o.$)("user"),c=(0,o.$)("token");return(0,a.useEffect)((()=>{(0,a.startTransition)((()=>{e((0,l.LA)(c))}))}),[e]),t.map(((t,r)=>a.createElement("div",{id:"survey-container",key:r},a.createElement("div",{className:"tabla"},a.createElement("div",{className:"tabla_fila"},a.createElement("div",{className:"tabla_columna"},a.createElement("h2",null,"DNI")),a.createElement("div",{className:"tabla_columna"},a.createElement("h2",null,"PRODUCTO")),a.createElement("div",{className:"tabla_columna"},a.createElement("h2",null,"MANTENIMIENTO")),a.createElement("div",{className:"tabla_columna"},a.createElement("h2",null,"TIPO MANTENIMIENTO")),a.createElement("div",{className:"tabla_columna"},a.createElement("h2",null,"ESTADO")),a.createElement("div",{className:"tabla_columna"},a.createElement("h2",null,"ID SUBPROUDCTO")),a.createElement("div",{className:"tabla_columna"},a.createElement("h2",null,"FECHA CREACION"))),a.createElement("div",{className:"tabla_fila2"},a.createElement("div",{className:"tabla_columna"},a.createElement("h2",null,t.Dni)),a.createElement("div",{className:"tabla_columna"},a.createElement("h2",null,t.Producto)),a.createElement("div",{className:"tabla_columna"},a.createElement("h2",null,t.Mantenimiento)),a.createElement("div",{className:"tabla_columna"},a.createElement("h2",null,t.Tipo_mantenimiento)),a.createElement("div",{className:"tabla_columna"},a.createElement("h2",null,t.Estado)),a.createElement("div",{className:"tabla_columna"},a.createElement("h2",null,t.Id_subproducto)),a.createElement("div",{className:"tabla_columna"},a.createElement("h2",null,t.Fecha_creacion)))),"admin"==n.rol?a.createElement("button",{type:"button",onClick:()=>(t=>{const n={token:c,id_encuesta:t};e((0,l.Gn)(n))})(t.Id_encuesta),className:"btn_mobile-remove"},a.createElement("span",null,"Eliminar Encuesta")):a.createElement(a.Fragment,null))))},i=n(272),s=function(){return a.createElement(a.Fragment,null,a.createElement(i.Z,null),a.createElement("div",{id:"home"},a.createElement("h1",null,"Lista de encuestas"),a.createElement(c,null)))}},358:function(e,t,n){"use strict";n.r(t);var a=n(294),r=n(998),l=n(854),o=n(335);n(510),t.default=function(){const e=(0,r.I0)(),[t,n]=(0,a.useState)(""),[c,i]=(0,a.useState)(""),s=(0,o.s0)();return a.createElement("div",{id:"main"},a.createElement("div",{className:"main_div-title"},a.createElement("h1",null,"APP ENCUESTAS")),a.createElement("form",{id:"form"},a.createElement("div",{className:"form_div"},a.createElement("div",{className:"form_div-group"},a.createElement("label",{htmlFor:"email"},"Email"),a.createElement("input",{id:"email",type:"email",maxLength:50,name:"email",autoComplete:"username",onChange:e=>n(e.target.value),placeholder:"Introduzca un email",required:!0})),a.createElement("div",{className:"form_div-group"},a.createElement("label",{htmlFor:"password"},"Password"),a.createElement("input",{id:"password",type:"password",maxLength:50,name:"password",autoComplete:"current-password",onChange:e=>i(e.target.value),placeholder:"Introduzca una password",required:!0})),a.createElement("button",{className:"form_btn-submit",type:"submit",onClick:n=>{n.preventDefault();const a={email:t,password:c};e((0,l.uL)(a)).then((e=>{e.payload&&(s("/app"),window.location.reload())}))}},"Login"))))}},866:function(e){e.exports={getAuthUser:async e=>{const{email:t,password:n}=e,a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:n})};try{const e=await fetch("http://localhost:3445/api/v1/auth/login",a);return await e.json()}catch(e){console.error(e)}}}},854:function(e,t,n){"use strict";n.d(t,{uL:function(){return o}});var a=n(633),r=n(866),l=n(744);const o=(0,a.hg)("loginSlice/fetchLogin",(async e=>{const t=await(0,r.getAuthUser)(e);return(0,l.n)("token",t.token),t})),c=(0,a.oM)({name:"login",initialState:{user:[]},reducers:{},extraReducers:e=>{e.addCase(o.pending,(e=>{e.status="loading"})).addCase(o.fulfilled,((e,t)=>{e.status="success",e.user=t.payload.data,(0,l.n)("user",t.payload.data)})).addCase(o.rejected,(e=>{e.status="failed"}))}}),{login:i}=c.actions;t.ZP=c.reducer},980:function(e,t,n){"use strict";n.d(t,{Vb:function(){return o},ZP:function(){return s},Gn:function(){return c},LA:function(){return l}});var a=n(633),r=n(744);const l=(0,a.hg)("surveySlice/fetchSurvey",(async e=>await(async e=>{const t={method:"GET",headers:{"Content-Type":"application/json",Authorization:"BEARER "+e}};try{const e=await fetch("http://localhost:3445/api/v1/survey",t);return await e.json()}catch(e){console.error(e)}})(e))),o=(0,a.hg)("surveySlice/createSurvey",(async e=>await(async e=>{const{dni:t,producto:n,mantenimiento:a,tipo_mantenimiento:l,estado:o}=e,c={method:"POST",headers:{"Content-Type":"application/json",Authorization:"BEARER "+(0,r.$)("token")},body:JSON.stringify({dni:t,mantenimiento:a,tipo_mantenimiento:l,producto:n,estado:o,id_subproducto:""})};try{const e=await fetch("http://localhost:3445/api/v1/survey/create",c),t=await e.json();return console.log(t),t}catch(e){console.error(e)}})(e))),c=(0,a.hg)("surveySlice/deleteSurvey",(async e=>{const t=await(async e=>{const{id_encuesta:t,token:n}=e,a={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"BEARER "+n}};try{const e=await fetch(`http://localhost:3445/api/v1/survey/delete/${t}`,a);return await e.json()}catch(e){console.error(e)}})(e);return t})),i=(0,a.oM)({name:"survey",initialState:{survey:[],status:"idle"},reducers:{},extraReducers:e=>{e.addCase(l.pending,(e=>{e.status="loading"})),e.addCase(l.fulfilled,((e,t)=>{e.status="success",e.survey=t.payload.data})),e.addCase(l.rejected,(e=>{e.status="failed"})),e.addCase(c.pending,(e=>{e.status="loading"})),e.addCase(c.fulfilled,((e,t)=>{e.status="success";const n=e.survey.findIndex((e=>e.id_encuesta===t.payload.id));e.survey.splice(n,1)})),e.addCase(c.rejected,(e=>{e.status="failed"})),e.addCase(o.pending,(e=>{e.status="loading"})),e.addCase(o.fulfilled,((e,t)=>{e.status="success"})),e.addCase(o.rejected,(e=>{e.status="failed"}))}}),{}=i.actions;var s=i.reducer},510:function(e,t,n){"use strict";n.d(t,{hh:function(){return r}}),n(294);var a=n(245);const r=(e,t)=>!!t&&("admin"==(0,a.Z)(e).rol?"admin":"user")},744:function(e,t,n){"use strict";n.d(t,{$:function(){return r},n:function(){return a}});const a=(e,t)=>{try{window.localStorage.setItem(e,JSON.stringify(t))}catch(e){console.log(e)}},r=e=>{try{const t=window.localStorage.getItem(e);return JSON.parse(t)}catch(e){console.log(e)}}},388:function(e,t,n){"use strict";var a=n(537),r=n.n(a),l=n(645),o=n.n(l)()(r());o.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=o},55:function(e,t,n){"use strict";var a=n(537),r=n.n(a),l=n(645),o=n.n(l)()(r());o.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.Z=o}},o={};function c(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={id:e,exports:{}};return l[e](n,n.exports,c),n.exports}c.m=l,e=[],c.O=function(t,n,a,r){if(!n){var l=1/0;for(u=0;u<e.length;u++){n=e[u][0],a=e[u][1],r=e[u][2];for(var o=!0,i=0;i<n.length;i++)(!1&r||l>=r)&&Object.keys(c.O).every((function(e){return c.O[e](n[i])}))?n.splice(i--,1):(o=!1,r<l&&(l=r));if(o){e.splice(u--,1);var s=a();void 0!==s&&(t=s)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[n,a,r]},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,{a:t}),t},n=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},c.t=function(e,a){if(1&a&&(e=this(e)),8&a)return e;if("object"==typeof e&&e){if(4&a&&e.__esModule)return e;if(16&a&&"function"==typeof e.then)return e}var r=Object.create(null);c.r(r);var l={};t=t||[null,n({}),n([]),n(n)];for(var o=2&a&&e;"object"==typeof o&&!~t.indexOf(o);o=n(o))Object.getOwnPropertyNames(o).forEach((function(t){l[t]=function(){return e[t]}}));return l.default=function(){return e},c.d(r,l),r},c.d=function(e,t){for(var n in t)c.o(t,n)&&!c.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},c.f={},c.e=function(e){return Promise.all(Object.keys(c.f).reduce((function(t,n){return c.f[n](e,t),t}),[]))},c.u=function(e){return e+"bc3eccf49f199eefdfc7.js"},c.miniCssF=function(e){},c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a={},r="appfronted:",c.l=function(e,t,n,l){if(a[e])a[e].push(t);else{var o,i;if(void 0!==n)for(var s=document.getElementsByTagName("script"),u=0;u<s.length;u++){var m=s[u];if(m.getAttribute("src")==e||m.getAttribute("data-webpack")==r+n){o=m;break}}o||(i=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,c.nc&&o.setAttribute("nonce",c.nc),o.setAttribute("data-webpack",r+n),o.src=e),a[e]=[t];var d=function(t,n){o.onerror=o.onload=null,clearTimeout(f);var r=a[e];if(delete a[e],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach((function(e){return e(n)})),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),i&&document.head.appendChild(o)}},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e;c.g.importScripts&&(e=c.g.location+"");var t=c.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var a=n.length-1;a>-1&&!e;)e=n[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),c.p=e}(),function(){var e={143:0};c.f.j=function(t,n){var a=c.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var r=new Promise((function(n,r){a=e[t]=[n,r]}));n.push(a[2]=r);var l=c.p+c.u(t),o=new Error;c.l(l,(function(n){if(c.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var r=n&&("load"===n.type?"missing":n.type),l=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+r+": "+l+")",o.name="ChunkLoadError",o.type=r,o.request=l,a[1](o)}}),"chunk-"+t,t)}},c.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,r,l=n[0],o=n[1],i=n[2],s=0;if(l.some((function(t){return 0!==e[t]}))){for(a in o)c.o(o,a)&&(c.m[a]=o[a]);if(i)var u=i(c)}for(t&&t(n);s<l.length;s++)r=l[s],c.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return c.O(u)},n=self.webpackChunkappfronted=self.webpackChunkappfronted||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),c.nc=void 0;var i=c.O(void 0,[270,7],(function(){return c(193)}));i=c.O(i)}();
//# sourceMappingURL=app0b7d33db972ca47c0b4a.js.map